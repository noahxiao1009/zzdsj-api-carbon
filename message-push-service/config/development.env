# Message Push Service 开发环境配置

# ===== 服务基本配置 =====
SERVICE_NAME=message-push-service
SERVICE_PORT=8089
SERVICE_VERSION=1.0.0
ENVIRONMENT=development

# ===== Redis配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=5
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=5
REDIS_SOCKET_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# ===== 日志配置 =====
LOG_LEVEL=DEBUG
LOG_FORMAT=colored
LOG_FILE=./logs/message-push-service.log
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=3
LOG_ROTATE=true

# ===== 性能配置 =====
MAX_CONNECTIONS=500
CONNECTION_TIMEOUT=300
HEARTBEAT_INTERVAL=30
MESSAGE_QUEUE_SIZE=5000
WORKER_THREADS=2
MAX_MESSAGE_SIZE=1048576

# ===== 安全配置 =====
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,http://127.0.0.1:3000
CORS_CREDENTIALS=true
RATE_LIMIT_PER_MINUTE=10000
ENABLE_API_KEY_AUTH=false
API_KEY=dev_api_key

# ===== 监控配置 =====
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_INTERVAL=30
ENABLE_TRACING=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ===== 消息队列配置 =====
MESSAGE_QUEUE_TYPE=redis
MESSAGE_TTL=1800
MESSAGE_RETRY_ATTEMPTS=3
MESSAGE_RETRY_DELAY=2
DEAD_LETTER_QUEUE=false

# ===== 集群配置 =====
CLUSTER_MODE=false
CLUSTER_NODES=
CLUSTER_DISCOVERY_SERVICE=
SERVICE_DISCOVERY_TTL=30

# ===== 缓存配置 =====
ENABLE_CACHE=true
CACHE_TTL=60
CACHE_MAX_SIZE=500
CACHE_EVICTION_POLICY=lru

# ===== 限流配置 =====
ENABLE_RATE_LIMITING=false
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_REQUESTS=10000
RATE_LIMIT_BURST=1000

# ===== SSL/TLS配置 =====
ENABLE_SSL=false
SSL_CERT_PATH=
SSL_KEY_PATH=
SSL_CA_PATH=

# ===== 数据库配置 =====
DATABASE_URL=postgresql://dev_user:dev_password@localhost:5432/message_push_dev_db
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# ===== 外部服务配置 =====
GATEWAY_SERVICE_URL=http://localhost:8080
KNOWLEDGE_SERVICE_URL=http://localhost:8082
AGENT_SERVICE_URL=http://localhost:8081

# ===== 备份和恢复配置 =====
ENABLE_BACKUP=false
BACKUP_INTERVAL=7200
BACKUP_RETENTION_DAYS=3
BACKUP_STORAGE_PATH=./backups

# ===== 开发/调试配置 =====
DEBUG=true
RELOAD=true
PROFILING=true
ENABLE_SWAGGER=true