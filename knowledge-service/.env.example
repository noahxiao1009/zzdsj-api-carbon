# 智政科技AI智能办公助手 - 知识库服务环境配置
# 复制此文件为 .env 并根据实际环境修改配置值

# ========== 基础配置 ==========
ENVIRONMENT=development
LOG_LEVEL=INFO
SERVICE_PORT=8082
DEBUG=true

# ========== 开发配置 ==========
# 热重载配置 (仅开发环境生效)
ENABLE_RELOAD=true                              # 是否启用热重载
RELOAD_DIRS=["app","config"]                    # 监控的目录
RELOAD_EXCLUDES=["*.log","*.tmp","__pycache__","*.pyc"]  # 排除的文件

# ========== 数据库配置 ==========
# PostgreSQL 配置
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password
POSTGRES_DB=knowledge_db
POSTGRES_SCHEMA=public

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ========== 嵌入模型配置 ==========
# OpenAI 配置
OPENAI_API_KEY=your_openai_api_key
OPENAI_BASE_URL=https://api.openai.com/v1

# Azure OpenAI 配置
AZURE_OPENAI_API_KEY=your_azure_openai_api_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_VERSION=2023-12-01-preview

# ========== 存储配置 ===========
MINIO_ENDPOINT=167.71.85.231:9000
MINIO_ACCESS_KEY=HwEJOE3pYo92PZyx
MINIO_SECRET_KEY=I8p29jlLm9LJ7rDBvpXTvdeA58zNEvJs
MINIO_SECURE=false
MINIO_BUCKET_NAME=knowledge-files
STORAGE_BACKEND=minio
LOCAL_STORAGE_PATH=./uploads

# ========== 文件上传配置 ==========
UPLOAD_DIR=uploads
MAX_FILE_SIZE=104857600  # 100MB
ALLOWED_EXTENSIONS=.pdf,.txt,.docx,.doc,.md,.csv,.json

# ========== Task Manager 集成配置 ==========
# Task Manager 服务配置 (用于任务分发和状态同步)
TASK_MANAGER_URL=http://localhost:8084          # Task Manager HTTP API地址
TASK_MANAGER_GRPC_ADDRESS=localhost:8085        # Task Manager gRPC地址  
TASK_MANAGER_TIMEOUT=30                         # 连接超时时间(秒)
ENABLE_TASK_MANAGER_INTEGRATION=true            # 是否启用Task Manager集成

# ========== 异步任务处理配置 ==========
# 异步任务处理器配置
ENABLE_ASYNC_TASK_PROCESSING=true               # 启用异步任务处理
MAX_WORKERS=4                                   # 最大工作线程数
WORKER_CONCURRENCY=3                            # 工作进程并发数
TASK_TIMEOUT=1800                               # 任务超时时间(秒)
MAX_TASK_RETRIES=3                              # 最大重试次数

# ========== 微服务通信配置 ==========
# 其他微服务地址配置  
MODEL_SERVICE_URL=http://localhost:8088         # 模型服务地址
AGENT_SERVICE_URL=http://localhost:8081         # 智能体服务地址
BASE_SERVICE_URL=http://localhost:8085          # 基础服务地址
